#!/bin/bash
#
# Name: WISH = Wifi Shell
#
# Description: This script allows you to connect to the wifi.
# Dependencies: iw , wpa_supplicant , dhclient
#
# Variables
device="$(iw dev | grep Interface | awk '{print$2}')"
wpas="wpa_supplicant -B -D wext -i"
netw="scan | grep SSID | awk '{print$2}"
[ -z $HOME/wifi ] || mkdir "$HOME"/wifi
rfkill unblock wifi
iw $device $netw
  sleep 1
  echo -e \\n "Type an SSID"
  read ssid
[ -z $HOME/wifi/$SSID ] || mkdir $HOME/wifi
  $wpas $device -c $HOME/wifi/$ssid
  echo "Type a password" 
  wpa_passphrase $ssid >> $HOME/wifi/$ssid
  $wpas $DEVICE -c $HOME/wifi/$ssid
 dhclient
xsetroot -name "$(ip addr | grep -oEw '([[:digit:]]{3}.){3}[[:digit:]]{2}')"
